# Phase 5 Theory — Capstone: 주문-결제-재고 통합 개선

## 학습 목표 (2주)
- 지금까지 학습한 Foundation/Spring/DDD/Pattern 역량을 하나의 제품 개선 과제로 통합한다.
- 기능 구현뿐 아니라 운영 지표, 장애 대응, 의사결정 문서화를 포함한 **실무 완성도**를 달성한다.
- 팀 단위 협업(역할 분담/리뷰/발표)으로 아키텍처 트레이드오프를 설명한다.

## Week 1 — 설계/구현
1. 요구사항 정제 + 범위 확정 (Must/Should/Could)
2. 아키텍처 초안 (Context Map, Sequence, Deployment)
3. 핵심 유스케이스 구현 (주문 생성, 결제 실패 복구, 재고 정합성)

## Week 2 — 검증/발표
1. 부하/장애 시나리오 테스트
2. 운영 지표 대시보드/알림 기준 정리
3. ADR + 최종 발표

---

## 1) 프로젝트 시나리오
"StyleKorean 프로모션 시간대 주문 플로우 안정화"

### 비즈니스 목표
- 주문 성공률 향상
- 결제 실패 후 상태 불일치 제거
- 재고 음수/중복 차감 0건 달성

### 기술 목표
- 확장 가능한 아키텍처(Port/Adapter)
- 테스트 신뢰성(회귀 방지)
- 운영 가시성(로그/지표/알림)

---

## 2) 필수 아키텍처 원칙
- 주문/결제/재고를 명시적 경계로 분리
- 외부 결제사 연동은 Adapter로 캡슐화
- 이벤트 기반 처리에는 멱등성(eventId) 보장
- 실패 시 보상/재시도/DLQ 기준 수치화

## 3) 운영 SLO 예시
- 주문 생성 API 성공률 >= 99.5%
- 주문 생성 API p95 < 700ms
- 결제 실패 상태 불일치 0건
- 재고 음수 발생 0건

## 4) 발표 평가 포인트
1. 왜 이 구조를 선택했는가?
2. 어떤 트레이드오프를 감수했는가?
3. 장애 상황에서 어떻게 복구되는가?
4. 운영 지표로 개선 효과를 어떻게 증명했는가?

## 5) 성공 기준
- [ ] 기능/품질/운영/문서 4축이 모두 충족
- [ ] 코드 리뷰에서 아키텍처 의도가 명확히 전달됨
- [ ] 발표에서 비기능 요구사항 근거 제시 가능
